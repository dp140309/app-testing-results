# oto8离基本可用差距表
- **目标：六月前完成oto8**
- 根据UX和刘总的沟通结果，目前oto8的工作以移植为主，暂不考虑大的改动
- [oto8项目进度表](https://github.com/openthos/app-testing-results/blob/master/list/%E5%8A%9F%E8%83%BD%E7%82%B9%E5%88%97%E8%A1%A8/oto8%E9%A1%B9%E7%9B%AE%E8%BF%9B%E5%BA%A6%E8%A1%A8.md)
- [本周工作任务](https://github.com/openthos/community-analysis/blob/master/weekly%20report/work-progress/20190514-20190520%E5%91%A8%E4%BB%BB%E5%8A%A1%E8%BF%9B%E5%BA%A6.md)
- [oto8测试点列表](https://github.com/openthos/app-testing-results/tree/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/oto8)

***

## 目录
- [本周新增问题](#本周新增问题)
- [所有问题列表](#所有问题列表)
- [已解决](#已解决)

***
## 本周新增问题
- 设置：蓝牙匹配时，鼠标点击弹出的匹配窗口，窗口会到桌面下方而无法点击
- 通知中心：openthos电脑接收文件时，通知中心自动弹出的接收文件消息无法点击接收按钮，需要重新打开通知中心才能点击并接收
- 设置：匹配新设备时，有时需要点击”与新设备匹配”按钮多次才能进入扫描页面
   
***

## 所有问题列表

#### 系统
- 基于musl libc，移植Linux GNU常用命令工具到openthos8.1
- ota升级功能移植
- 重做recovery
- 无法通过adb命令连接到其它android设备（但可以ping通）-----------2019-03-08新增
- oto8 for AOSP-----------已合并到2019-04-02的multiwindow
- oto8的多个应用通过鼠标滚轮下拉页面会自动跳回到页面最上方，有时鼠标单击也不灵敏

#### 权限管理-----------[测试结果](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95%E7%9B%B8%E5%85%B3/%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86.md)
   - audio部分-----------已完成
   - camera部分-----------由于没有假图像，关闭权限时应用仍会崩溃或提示无法运行
   - gps部分-----------与/device/generic/common下的源码冲突，需删除对应源码，需要和刘总讨论

#### oto8界面
- UI界面
   - 窗口样式：重叠半透明模糊窗口，参照windows------------------------优先
      - 换图片------------已换
      - 修改按钮和菜单布局------------正在做
      - 半透明
      - 模糊
      - 处理窗口阴影和透明冲突的问题------------正在找合适方案
   - 开始菜单
   - 任务栏
   - 通知中心
   - 文件管理器
   
#### 文件管理器
- 网上邻居功能------------现在能用，在处理权限问题
- 回收站内的全部清空和删除功能无效
- 打开本地磁盘的其它分区会奔溃
- 永久删除功能不可用
- 解压缩功能不可用
- 发送文件功能不可用
- 右键菜单中详情的打开方式和名称显示空白（是否屏蔽？）
- 右键菜单中发送功能不可用（是否屏蔽？）
- 工具栏中的显示隐藏文件功能不可用（但是右键菜单的显示隐藏可用）
- 导航栏的收藏功能未加入微信文件、微信图片、qq文件
- 拷贝文件时显示的正在拷贝提示总是会显示之前的那个项目，比如上次拷的001.apk，在之后拷贝002.apk时仍显示001.apk的提示
- 在U盘中拷贝粘贴文件时进行卸载或格式化操作会有冲突，建议设置这类操作和复制粘贴功能互斥。

#### 多窗口
- 蓝牙匹配时，鼠标点击弹出的匹配窗口，窗口会到桌面下方而无法点击-----------2019-05-29新增
- **切换分辨率后窗口上的所有按钮点击无效,4月2日之前的旧版本正常**-----------2019-04-26新增
- 以手机模式启动微信之类的有强制竖屏设置的应用，再全屏窗口，之后通知中心再也无法启动-----------2019-04-12新增
- 部分窗口需要特殊处理，比如关机的电源窗口-----------2019-04-12新增
- 快捷键
- 全屏和最大化同时使用容易出错-----------2019-04-02新增，需等刘总确认是否最大化和全屏不能共存
   - 应用在窗口模式下点击全屏，点击最大化，再点击全屏，应用变为窗口模式，但标题栏消失
   - 应用在窗口模式下点击全屏、最大化、最大化、全屏，应用全屏，但仍有横竖屏切换按钮
- 部分应用全屏时点击屏幕最上方的按钮经常会被标题栏干扰
- 部分应用强制竖屏全屏显示（比如剪绳子的广告）-----------需要和刘总确认需求
- 应用适配
   - [学习强国测试结果](https://github.com/openthos/app-testing-results/blob/master/%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9%E5%8F%8A%E7%BB%93%E6%9E%9C/%E5%85%B6%E5%AE%83%E5%BA%94%E7%94%A8/oto8%E9%A6%96%E6%89%B9%E9%80%82%E9%85%8D%E5%BA%94%E7%94%A8.md)
   - 微信全屏模式下新弹出的窗口只有手机模式大小，且无法控制窗口-----------2019-04-04新增
   - 微信窗口的阴影显示不正常
   - 微软office登录页面下窗口模式时没有标题栏-----------正在做，90 %
   - 部分应用以桌面模式打开后仍显示为手机模式（比如outlook、QQ）-----------2019-04-10新增
   - 部分游戏在窗口模式下黑屏，全屏时正常（比如AngryBird）-----------2019-04-10新增
   - Sparkle Free在窗口模式下鼠标点击位置偏移
   - 2048左上角第一个方格总是显示被选中的蓝色，pcmark等应用也有此问题，oto2无此问题
   - 泰瑞呢、开心消消乐画面显示不全，默认窗口下一半不全的画面一半黑屏
   - 泰瑞呢、buttons and scissors、剪绳子、开心消消乐、模拟炒股、学堂在线等应用标题栏无手机桌面模式切换按钮
   - 狂野飙车8、央视影音、佳能打印打开闪退
   - bilibili首次打开时选择感兴趣的内容页面超出窗口
   - 时钟计时器功能完成计时后崩溃
   - 学堂在线横屏打开时播放视频页面显示空白

#### 设置
- 匹配新设备时，有时需要点击”与新设备匹配”按钮多次才能进入扫描页面 -----------2019-5-29新增
- 以太网、蓝牙、休眠、分辨率、打印、壁纸功能均未移植 -----------肖、张、苗在做 
   - 分析蓝牙扫描不到设备的原因-----------定位到问题出在HAL层,正在向黄Sir寻求帮助
   - 分辨率移植的系统底层支持-----------完成度：80%，找到一台可以接串口的台式机，利用usb转rs232，已经可以将内核调试信息输出至串口
- 系统软重启后无法连接wifi
- 休眠后无法唤醒------------暂时使用临时方案：默认用不休眠；根本解决方案需要等待系统组配合
- 需要屏蔽的功能：热点和网络共享、VPN、飞行模式、应用权限、默认应用、特殊应用权限、自动旋转屏幕、屏保、有来电时响铃并震动、“勿扰“偏好设置、手机铃声、拨号键盘提示音、安卓x86设置、存储、Google Play保护机制、安全更新、屏幕固定、Google、手势、备份
- wlan显示已连接，但无法访问互联网，实际已可以访问互联网。
- 语言设置中有时候按住选项时无法直接往上拖拽

#### systemUI
- openthos电脑接收文件时，通知中心自动弹出的接收文件消息无法点击接收按钮，需要重新打开通知中心才能点击并接收-----------2019-5-29新增
- 任务栏切换分辨率后弹出的菜单和任务栏之间都有缝隙
- 任务栏切换分辨率后返回桌面的按钮宽度未变，显示不美观
- 任务栏的显示隐藏功能
- 通知中心下方的截屏按钮无效
- 通知中心下方的隔离模式图标与实际相反
- 开始菜单自研应用右键菜单的窗口模式置灰
- 开始菜单的搜索框无法输入文字
- 增加谷歌拼音输入法
- 开始菜单无法调出虚拟键盘
- 打开开始菜单时按esc键，桌面的我的电脑和回收站图标会浮在开始菜单上方
- 切换分辨率后通知中心顶部的位置会出现一块悬浮的透明区域，桌面和应用上该区域无法进行任何操作

#### 桌面
- 我的电脑右键菜单->关于本机，提示桌面停止运行
- 桌面上使用右键(点击空白或新建文件等)，整个屏幕会闪一下

#### 应用商店
- 应用商店增加正在安装的状态
- 应用商店安装应用时卸载应用，系统会直接软重启
- 应用商店后台-----------计划使用PHP+MySQL的方式构建

#### 浏览器
- 基于chrome的浏览器，要达到和基于firefox的相同效果
   - 需要将所有指向google.com的链接改为openthos的网站（比如首次打开出现的隐私条款等）
   - chrome和chromium的关键字是否需要改为openthso浏览器之类的
   - 设置浏览器的默认页为openthos.org-----------30％
   - 打开网页速度很慢（相同环境下chrome要快很多）
   - 无法播放视频和音频（相同环境下chrome可以）
   - 长按链接后拖拽会崩溃（相同环境下chrome正常）
   - 页面颜色过暗，最好能调成普通（相同环境下chrome正常）
   - 百度搜索框的下拉菜单无法选择搜索项（相同环境下chrome可以）
   - 手机版无法输入验证码
   - 无法登陆126邮箱 
- 由于原生的chrome浏览器无法下载文件且无法编辑github，建议屏蔽

#### 其它应用
- 云服务
   - 文件管理器、设置和首次配置的UI功能移植
   - seafile demo及其依赖库移植到aosp8.1-----------已完成，需要王之旭修改UI才能开始测试
   - 用C重新实现seaf-cli-----------已完成，需要王之旭修改UI才能开始测试
- 图片管理器
   - 无法正常查看图片，一直显示同一张图片
- 首次配置
   - 当前原生的首次配置无法输入wifi密码
- 相机/摄像头
   - 微信的视频功能只有第一次能用，之后会无法显示自己这方的画面
   - qq无法进行视频操作，进入视频模式会立刻跳出
   - 美颜相机无法使用，提示没有相机权限，但实际上在设置里面已经给权限了
   - 激萌相机图像显示倒置
   - 微信和激萌相机一开始会将摄像头设置为后置摄像头，而在oto2的微信上强制只用前置摄像头
- 键盘映射
- 任务管理器 
- 文本编辑器
- 视频播放器
- 打印
   - mopria打印功能移植
- google服务
   - 打开vpn后通知中心不断打开，提示google play服务请求，之后弹出google play屡次停止运行的提示-----------2019-03-08新增
- qq在后台运行一段时间后报停止运行错误，多台电脑可以复现，[点击查看log](../log/qqcrash.txt)
- 办公软件
   - 没有特别合适的文档编辑软件，WPS文档页面特别大，无法缩小，且打印的文字有深有浅；Microsoft的word每次使用都要联网，否则很多文字会显示不出来，之前连过也没用，打印时也必须联外网，否则会卡在正在获取准备打印的文件页面。

***

## 已解决
- 预装chromium浏览器------------肖 2019-5-20测试通过
- U盘卸载和格式化功能------------王 2019-5-8测试通过
- 桌面窗口可拖拽边框-----------刘 2019-4-29测试通过
- 刚启动时提示云服务停止运行------------王 2019-4-29测试通过
- 回收站还原文件时如果之前的文件存放目录不存在则无法还原------------王 2019-4-29测试通过
- U盘启动系统------------肖 2019-4-16测试通过
- 任务栏不能根据当前分辨率自适应------------卢 2019-4-22测试通过
- 桌面上对文字（比如回收站图标下的Recycle）使用右键会弹出两个右键菜单，一黑一白------------王 2019-4-22测试通过
- 最大化窗口后再以桌面模式重启，窗口会没有标题栏-----------刘 2019-4-12测试通过
- 最大化窗口后鼠标移到屏幕最上方拖动，窗口会没有标题栏-----------刘 2019-4-12测试通过
- 鼠标在窗口外较远的地方仍然可以拖动窗口-----------刘 2019-4-12测试通过
- 权限管理camera部分-----------苗 已完成
- Chromium浏览器的源码下载、编译-----------苗 测试通过
- 部分应用仍显示在桌面下方-----------罗 2019-4-10测试通过
- 微信朋友圈调整窗口宽度不能自适应-----------罗 2019-4-10测试通过
- 针对部分应用特殊处理DecorView的问题，增加假DecorView以保证用户能控制这些应用的窗口，比如微信聊天页面标题栏错位、kindle的标题栏显示异常等-----------罗 2019-4-4测试通过
- 微信弹出菜单位置不正确-----------罗 2019-4-4测试通过
- 微信列表被菜单和标题栏遮挡-----------罗 2019-4-4测试通过
- 微信下拉页面显示异常-----------罗 2019-4-4测试通过
- 文件管理器ui设计-----------赵 2019-04-02刘总确认
- 设置、保存oto8窗口最大化、docked状态flag，简化代码------------刘 2019-4-2测试通过
- 无法正常回到桌面-----------卢 2019-3-29测试通过
- 分析、解决文件管理器和桌面无法用相关应用打开文件------------王 2019-3-22测试通过
- SystemUI任务栏图标应用信息显示------------罗 2019-3-22测试通过
- 修改SystemUI任务栏图标背景高亮的问题------------罗 2019-3-22测试通过
- 修改SystemUI任务栏应用图标显示布局------------罗 2019-3-22测试通过
- 进入系统后，首次打开开始菜单，任务栏第一个应用图标会泛白（概率复现）------------罗 2019-3-22测试通过
- 窗口标题栏自动隐藏功能------------刘 2019-3-22测试通过
- 全屏后再最大化，窗口会固定为全屏，无法变为窗口------------刘 2019-3-22测试通过
- 窗口最大化拖动标题栏变为小窗口------------刘 2019-3-22测试通过
- 全屏模式切回窗口模式后，手机桌面切换按钮不会立刻出现------------刘 2019-3-22测试通过
- 窗口增加全屏按钮------------罗 2019-3-18测试通过
- 最小化崩溃bug------------罗 2019-3-18测试通过
- 部分对话框无法点击（比如无法通过开始菜单的右键选项卸载应用）------------罗 2019-3-18测试通过
- 全屏后最小化屏幕会黑一段时间------------罗 2019-3-18测试通过
- 全屏最小化后再恢复,会变成普通窗口------------罗 2019-3-18测试通过
- musl-libc对openthos的支持试验------------肖 2019-3-18测试通过
- 窗口增加全屏按钮------------刘 2019-3-14测试通过
- 新增在最近应用列表中移除单个应用和所有应用的功能-----------卢 2019-3-13测试通过
- 首次alt+tab显示纵向排列-----------卢 2019-3-13测试通过
- 开始菜单取消默认焦点到textview-----------卢 2019-3-13测试通过
- 任务栏图标被选中状态不消失-----------罗 2019-3-11测试通过
- 解决重启后任务栏图标顺序错乱的问题-----------罗 2019-3-11测试通过
- 应用窗口最大化后无法打开通知中心-会导致浏览器下载文件后无法查看和取消下载进度-----------罗 2019-3-11测试通过
- 全屏窗口后会多创建一个桌面-----------罗 2019-3-11测试通过
- 双击窗口标题栏和点击最大化按钮后统一让窗口最大化而非全屏------------刘 2019-3-6测试通过
- 可以横屏全屏打开的应用全屏后横屏显示-----------罗 2019-3-6测试通过
- 部分窗口外有黑框-----------罗 2019-3-6测试通过
- 窗口记忆功能------------刘 2019-3-6测试通过
- 手机模式和桌面模式功能移植------------罗 2019-3-4测试通过
- 一个应用打开另一个应用后，任务栏应用图标无法切换------------罗 2019-3-4测试通过
- 任务栏右键不可用------------罗 2019-2-28测试通过
- Launcher的Focus逻辑和表现的设计、初步实现-----------罗 2019-2-28测试通过
- 同一应用打开两个窗口时任务栏显示一个应用图标-----------罗 2019-2-28测试通过
- 录音机打开后提示停止运行------------王 2019-2-22测试通过
