#### 20190521:patch测试

- patch描述：麦克风权限管理

  device-generic-common-modprobe-snd-dummy.patch

  framework-base-set-property-to-vir_audio.patch

  hardware-libaudio-Select-the-virtual-audio-device.patch

- 测试环境

  S1笔记本

  未打patch前的系统：201905200845-oto8-eng.img

- 测试结果

  |                              | 未打patch的系统                        | 打patch的系统      |
  | ---------------------------- | -------------------------------------- | ------------------ |
  | 录音机直接录音               | 测试通过，可以录音                     | 测试通过，可以录音 |
  | 录音机开启状态下关闭录音权限 | 录音机崩溃，再次启动依旧会申请录音权限 | 无法关闭录音权限   |
  | 录音机关闭状态下关闭录音权限 | 启动时依旧会申请录音权限               | 无法关闭录音权限   |
  | QQ直接录音                   | 测试通过，可以录音                     | 测试通过，可以录音 |
  | QQ开启状态下关闭录音权限     | QQ崩溃，无法启动                       | 无法关闭录音权限   |
  | QQ关闭状态下打开录音权限     | QQ崩溃，无法启动                       | 无法关闭录音权限   |
  | 录音权限：QQ开启，录音机关闭 | QQ测试通过，录音机重新申请录音权限     | 无法关闭录音权限   |
  | 录音权限：录音机开启，QQ关闭 | 录音机测试通过，QQ崩溃                 | 无法关闭录音权限   |


#### 20190523:patch测试

- patch描述：麦克风权限管理

  device-generic-common-modprobe-snd-dummy.patch

  framework-base-set-property-to-vir_audio.patch(**在20190521的基础上有修改**)

  hardware-libaudio-Select-the-virtual-audio-device.patch

- 测试环境

  S1笔记本

  未打patch前的系统：201905200845-oto8-eng.img

- 测试结果

  |                              | 未打patch的系统                        | 打patch的系统                                        |
  | ---------------------------- | -------------------------------------- | ---------------------------------------------------- |
  | 录音机直接录音               | 测试通过，可以录音                     | 测试通过，可以录音                                   |
  | 录音机开启状态下关闭录音权限 | 录音机崩溃，再次启动依旧会申请录音权限 | 测试通过，录音效果为无声状态                         |
  | 录音机关闭状态下关闭录音权限 | 启动时依旧会申请录音权限               | 测试通过，录音效果为无声状态                         |
  | QQ直接录音                   | 测试通过，可以录音                     | 测试通过，可以录音                                   |
  | QQ开启状态下关闭录音权限     | QQ崩溃，无法启动                       | 测试通过，QQ自动检测到录音效果为无声状态             |
  | QQ关闭状态下关闭录音权限     | QQ崩溃，无法启动                       | 测试通过，QQ自动检测到录音效果为无声状态             |
  | 录音权限：QQ开启，录音机关闭 | QQ测试通过，录音机重新申请录音权限     | 测试通过，QQ正常录音，录音机录音效果为无声           |
  | 录音权限：录音机开启，QQ关闭 | 录音机测试通过，QQ崩溃                 | 测试通过，QQ自动检测到录音效果为无声，录音机正常录音 |

  

